{% extends "footer.html" %}

{% block content_container %}
    <div class="row">
        <div class="span12">            
            <h6>UserID: {{ user_id }}</h6>
            <h1>{{ nickname }}</h1>
        </div>
    </div>
   
    <div class="row">
        <div class="span6">
            <h3>Recent Posts</h3>
            {% for post in gvalues.trader_posts %}
                <div class="single-post">
                    <a href="/post?postID={{ post.postID }}"><h2>{{ post.title }}</h2></a>
                    <h5>{{ post.price|floatformat:3 }} BTC</h5>
                    <a class="btn" href="/post/edit?postID={{ post.postID }}">Edit</a>
                    <a class="btn" href=javascript:ShowDeleteButton('delete-confirm-{{ post.postID }}');HideDeleteButton('delete-{{ post.postID }}') id="delete-{{ post.postID }}">Delete</a>
                    <a class="btn" href="/post/edit/delete?postID={{ post.postID }}" id="delete-confirm-{{ post.postID }}" style="display:none;">Confirm Delete</a>
                </div>
            {% endfor %}
            {% if gvalues.trader_posts|length < 1 %}
                <h4>No posts yet!</h4>
            {% endif %}
        </div>
        <div class="span6">
            <h3>Saved Searches</h3>
            {% for query in saved_queries %}
                <div class="single-post">
                        {% if query.q %}<p class="search-query">
                            {{ query.q }}
                        </p>{% endif %}

                        <a class="btn" href="/search?q={{ query.q }}{% if query.category %}&amp;category={{ query.category }}{% endif %}{% if query.subcategory %}&amp;subcategory={{ query.subcategory }}{% endif %}">Run Search</a>
                        <a class="btn" href=javascript:ShowDeleteButton('delete-confirm-{{ query.queryID }}');HideDeleteButton('delete-{{ query.queryID }}') id="delete-{{ query.queryID }}">Delete</a>
                        <a class="btn" href="/search/memory?ID={{ query.queryID }}" id="delete-confirm-{{ query.queryID }}" style="display:none;">Confirm Delete</a>

                        <p>{% if query.category %}
                            Category : {{ gvalues.categories|cat_name:query.category }}
                            {% if query.subcategory %}<br />{% endif %}
                        {% endif %}
                        {% if query.subcategory %}
                            Subcategory : {{ gvalues.subcategories|cat_name:query.subcategory }}
                        {% endif %}
                        </p>
                    <div class="clear">&nbsp;</div>
                </div>
            {% endfor %}
            {% if saved_queries|length < 1 %}
                <h4>No queries have been saved yet!</h4>
            {% endif %}
        </div>
    </div>
    <script type="text/javascript" language="JavaScript"><!--
    function ShowDeleteButton(d) {
        document.getElementById(d).style.display = "";
    }
    function HideDeleteButton(d) {
        document.getElementById(d).style.display = "none";
    }
    --></script>
{% endblock content_container %}